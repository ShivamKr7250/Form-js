<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title></title>
</head>
<style type="text/css">
	*{
		font-family: sans-serif;
	}
	.out{
		background: cornflowerblue;
		height: 627px;
		width: 1357px;
		position: relative;
	}
	.box{
		background: whitesmoke;
		height: 425px;
		width: 250px;
		margin-top: 100px;
		margin-left: 553.5px;
		position: absolute;
		border: 2px black solid;
	}
	.top{
		font-weight: bold;
		text-align: center;
		font-size: 23px;
		margin-top: 15px;
		text-decoration: underline 2px;
	}
	input{
		display: block;
		float: left;
		width: 200px;
		font-weight: bold;
	}
	.name{
		font-weight: bold;
	}
	error{
		color: red;
		display: block;
	}
	.password-check{
		font-family: cursive;
		color: blue;
	}
</style>
<body>
	<form onsubmit="return validate()">
	<div class="out">
		<div class="box">
			<div class="top">Registration Form</div>
			<br>
			<div class="name">
				<label>Name:</label><br>
			<input type="text" name=""/>
		</div><br>
			<div class="name">
				<label>Email Id:</label><br>
			<input type="Email" name="" onkeyup="white(this.value)"/>
		</div><br>
			<div class="name">
				<label>Password:</label>
			<input type="password" name="" id="password" onclick ="white(this.value)" onkeyup="passCheck(this.value)" />
		</div><br>
			<div class="name">
				<label>Confirm Password:</label>
			<input type="password" name="" onclick ="check(this)"/>
			<br><br><br>
			<error id="alert"></error>
			<error id= "alert-caps"></error>
		</div>
		<div>
	<label class="password-check"> 8 characters </label><br>
	<label class="password-check"> 1 lower case character </label><br>
	<label class="password-check"> 1 upper case character </label><br>
	<label class="password-check"> 1 numerical value </label><br>
	<label class="password-check"> 1 special character </label>
</div><br>
			<div>
			<button class="name" type="button">Login</button>
			<button class="name" type="button" onclick="toggle(this)">Show Password</button>
		</div>
	</div>
</div>
</form>
</body>
<script type="text/javascript">
	var patten = /\s/g;
	var alert = document.getElementById('alert-caps');
	function white(data){
		var isSpace = patten.test(data);
		if (isSpace) {
			alert.innerText = "Space is not allowed";
		}else{
			alert.innerText = "";
		}
	}

	var password = document.getElementById('password');
	var flag = 1; // 1 -> no error ,, 0 -> error present
	function toggle(elem){
		var type = password.getAttribute('type');
		if(type === 'password'){
			password.setAttribute('type','text');
			elem.innerText = "Hide Password";
		}
		else{
			password.setAttribute('type','password');
			elem.innerText = "Show Password";
		}
	}

	function passCheck(data){
		var passClass = document.getElementsByClassName('password-check');
		const lowerCase = new RegExp ('(?=.*[a-z])');
		const upperCase = new RegExp ('(?=.*[A-Z])');
		const number = new RegExp ('(?=.*[0-9])');
		const specialChar = new RegExp ('(?=.*[!@#\$%\^&\*])');
		const eightChar = new RegExp ('(?=.{8,})');

		if(eightChar.test(data)){
			passClass[0].style.color = "green";
		}else{
			passClass[0].style.color = "blue";
		}
		if(lowerCase.test(data)){
			passClass[1].style.color = "green";
		}else{
			passClass[1].style.color = "blue";
		}
		if(upperCase.test(data)){
			passClass[2].style.color = "green";
		}else{
			passClass[2].style.color = "blue";
		}
		if(number.test(data)){
			passClass[3].style.color = "green";
		}else{
			passClass[3].style.color = "blue";
		}if(specialChar.test(data)){
			passClass[4].style.color = "green";
		}else{
			passClass[4].style.color = "blue";
		}
	}
function check(elem){
		if(elem.value.length > 0){
			if(elem.value != password.value){
				document.getElementById('alert').innerText = "Confirm password does not match";
				flag = 0;
			}else{
				document.getElementById('alert').innerText = "";
				flag = 1;
			}
		}else{
			document.getElementById('alert').innerText = "Please confirm password";
			flag = 0;
		}
	}
	function vaidate(){
		if (flag==1){
			return true;
		}else{
			return false;
		}
	}

	window.addEventListener('keyup', event => {
		var capslock = event.getModifierState('CapsLock');
		if (capslock){
			document.getElementById('alert').innerText = "WARNING! Capslock is on";
		}else{
			document.getElementById('alert').innerText = "";
		}
	})

	window.addEventListener('keyup', event => {
		console.log(event.getModifierState('CapsLock'));
	})
	
</script>
</html>